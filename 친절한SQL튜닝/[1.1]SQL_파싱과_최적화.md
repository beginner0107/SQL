# SQL 파싱과 최적화

## 1.1.1 구조적, 집합적, 선언적 질의 언어

- SQL은 "Structured Query Language"의 줄임말
- 구조적 질의 언어
- 원하는 결과집합을 ```구조적, 집합적```으로 선언하지만, 그 결과집합을 만드는 과정은 ```절차적```
- ```프로시저```가 필요
  - 그런 프로시저를 만들어 내는 DBMS 내부 엔진이 ```SQL 옵티마이저```
    1. 사용자가 SQL을 작성한다.
    2. 옵티마이저가 DBMS 내부에서 프로시저를 작성하고 컴파일해서 실행 가능한 상태로 만든다.
       - 이 과정을 ```SQL최적화```라고 한다.


### 예시
- 다음은 SQL을 사용하여 데이터베이스에서 고객의 주문을 조회하는 간단한 쿼리
```mysql
SELECT CustomerName, OrderDate, TotalAmount
FROM Orders
WHERE CustomerID = 12345;
```
- 이 쿼리는 "Orders" 테이블에서 "CustomerID"가 12345인 고객의 주문에 대한 정보를 가져옵니다. 
- 그러나 데이터베이스에서 이 쿼리를 실행하는 방법은 ```여러 가지```일 수 있습니다.
    1. 인덱스를 사용하였을 때 더 효율적인 경우
    2. 인덱스를 사용하지 않고 풀 스캔으로 검색했을 때 빠른 경우
- 일부 데이터베이스 시스템은 데이터를 가져오는 데 사용할 최적의 실행 계획을 결정하기 위해 통계 및 기타 정보를 고려할 수 있다.

### 요약
- 최적화 과정은 SQL 옵티마이저에 의해 수행된다.
- 옵티마이저는 쿼리를 분석하고 데이터베이스 구조를 고려하여 최적의 실행 계획을 결정
- 최적화된 실행 계획에 따라 데이터베이스 엔진이 작업을 수행하여 원하는 결과를 제공
